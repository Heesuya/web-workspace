<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	.board-view-wrap{
		width:1200px;
		margin:0 auto;
	}
	.boardContent{
		min-height: 300px;
	}
</style>
</head>
<body>
	<th:block th:include="common/header"></th:block>
	
	<main class="boardContent">
		<section class="section board-view-wrap">
		<div class="page-title">게시판</div>
			<table class="tbl board-view">
				<tr>
					<tr>
					<th colspan="6" th:text="${board.boardTitle}"></th>
				</tr>
				<tr>
					<th style="width:20%;">작성자</th>
					<td style="width:20%;" th:text="${board.boardWriter}"></td>
					<th style="width:15%;">작성일</td>
					<td style="width:15%;" th:text="${board.regDate}"></td>
					<th style="width:15%;">조회수</th>
					<td style="width:15%;" th:text="${board.readCount}"></td>
				</tr>
				<tr>
					<th>첨부파일</th>
					<td colspan="5">
						<th:block th:each="file : ${board.fileList}">
							<img src="/image/file.png" width="16px">
							<a th:href="@{/board/filedown(filename=${file.filename},filepath=${file.filepath})}" th:text="${file.filename}"></a>
						</th:block>
					</td>
				</tr>
				<tr>
					<td class="left" colspan="6">
						<div class="boardContent" th:text="${board.boardContent}"></div>
					</td>
				</tr>
				<tr th:if="${session.member != null && session.member.memberId == board.boardWriter}">
					<td colspan="6">
						<a th:href="@{/board/updateViewFrm(boardNo=${board.boardNo})}" class="btn-primary">수정</a>
						<button class="btn-secondary" th:onclick="boardDelete([[${board.boardNo}]])">삭제</button>
					</td>
				</tr>
			</table>
		</section>
	</main>
	<script>
		function boardDelete(boardNo){
			swal({
				title:"게시글 삭제",
				text:"게시글을 삭제하시겠습니까?",
				icon :"warning",
				buttons:{
					cancel:{
						text:"취소",
						value:false,
						visible:true,
						className:"btn-secondary",
						closeModal:true
					},
				confirm:{
					text:"삭제",
					value:true,
					visible:true,
					className:"btn-secondary",
					closeModal:true
					}
				}
			}).then(function(isConfirm){
				if(isConfirm){
					location.href="/board/delete?boardNo="+boardNo;
				}
			});
		}
	</script>
	<th:block th:include="common/footer"></th:block>
</body>
</html>